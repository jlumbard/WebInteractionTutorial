if (self.CavalryLogger) { CavalryLogger.start_js(["xduRq"]); }

__d("DesktopHscrollUnitEventConstants",[],(function(a,b,c,d,e,f){e.exports={HSCROLL_ITEM_INSERTED_EVENT:"DesktopHScrollUnit/itemInserted",HSCROLL_ITEM_SHOWN_EVENT:"DesktopHScrollUnit/itemShown",HSCROLL_ITEM_HIDE_EVENT:"DesktopHScrollUnit/HideIndividualItem",HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT:"DesktopHScrollUnit/scrollItemBeforeXout",HSCROLL_ITEM_UNHIDE_EVENT:"DesktopHScrollUnit/unhideIndividualItem",HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN:"logLastAdXout",HSCROLL_PAGER_ITEM_HIDE_EVENT:"onXoutIndividualItem"}}),null);
__d("SearchClientFunnelTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionName=function(a){this.$1.action_name=a;return this};c.setLastState=function(a){this.$1.last_state=a;return this};c.setSelectedID=function(a){this.$1.selected_id=a;return this};c.setSelectedText=function(a){this.$1.selected_text=a;return this};c.setSelectedType=function(a){this.$1.selected_type=a;return this};c.setTypeaheadSid=function(a){this.$1.typeahead_sid=a;return this};c.setTypedQuery=function(a){this.$1.typed_query=a;return this};return a}();c={action_name:!0,last_state:!0,selected_id:!0,selected_text:!0,selected_type:!0,typeahead_sid:!0,typed_query:!0};e.exports=a}),null);
__d("SearchFunnelLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SEARCH_BOX_TAPPED:"search_box_tapped",TA_SUGGESTION_CLICKED:"ta_suggestion_clicked",TA_ABANDON:"ta_abandon",SERP_INLINE_ACTION:"serp_inline_action",SERP_RESULTS_LOADED:"serp_results_loaded",SERP_RESULT_CLICKED:"serp_result_clicked",SERP_SEE_MORE_CLICKED:"serp_see_more_clicked",SERP_SCROLL_RESULTS:"serp_scroll_results",SERP_TAB_CLICKED:"serp_tab_clicked",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results",END_OF_SERP_RESULTS:"end_of_serp_results",MARKETPLACE_SERP_ITEM_CLICKED:"marketplace_click"})}),null);
__d("SearchFunnelLogger",["SearchClientFunnelTypedLogger","SearchFunnelLoggerConfig","SearchFunnelLoggerEvents"],(function(a,b,c,d,e,f){"use strict";a={logSearchOpen:function(a){if(!b("SearchFunnelLoggerConfig").isEnabled)return;new(b("SearchClientFunnelTypedLogger"))().setActionName(b("SearchFunnelLoggerEvents").SEARCH_BOX_TAPPED).setTypeaheadSid(a).log()}};e.exports=a}),null);
__d("BrowseClientEventLogger",["csx","Banzai","DOMQuery","SearchFunnelLogger","SearchLoggingOptions","ge","gkx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="browse_client_event_session",i="search_www_click_error",j="21.";a={logData:function(a,c,d,e){__p&&__p();e===void 0&&(e={});if(!a||!c)return;e.event=a;e.client_time=Math.floor(Date.now());e.client_time_2=Date.now()/1e3;e.session_id=c;e.vertical=d;this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(c)!==-1)return;a=e.event==="click"&&e.clicked_href!=null&&b("SearchLoggingOptions").signalLinkClicks;b("Banzai").post(h,[e],{delay:0,retry:!0,signal:a})},logClick:function(a){a.gt.event="click",this.maybeLogVisiblityEvent(a,!0),b("gkx")("678249")&&b("ifRequired")("FacebarTypeaheadRefreshNullstate",function(a){a.setIsNullstateStale(!0)})},maybeLogClientViewEvent:function(a){a.event="client_view",this.maybeLogVisiblityEvent(a)},maybeLogVisiblityEvent:function(a,c){__p&&__p();c===void 0&&(c=!1);var d=null;c&&(d=a,a=a.gt);if(!a||!a.xt||a.xt.indexOf(j)!==0){c&&b("Banzai").post(i,[d],{delay:0,retry:!0});return}var e=JSON.parse(a.xt.substring(3));c&&(e.click_type=a.click_type,e.tn=a.tn,e.clicked_href=a.clicked_href,d&&d.bt&&d.bt.ct&&(d.bt.ct=="feedback"&&(e.feedback_score=d.bt.feedback_score,e.feedback_type=d.bt.feedback_type)));c=a.event;d=this._getPositionForCurrentDOMNode(e.unit_id);e.position=d;if(e.display_style==="context_hscroll"&&(c==="client_view"||c==="vpvd"||c==="visible"||c==="hidden"))return;if(c==="vpvd"){if(!a.ft)return;e.vpvd_time=a.ft.vpvd_time_delta}this.logData(c,e.session_id,e.vertical,e)},_getPositionForCurrentDOMNode:function(a){__p&&__p();if(a==null||a==void 0)return null;var c=0,d=b("ge")("browse_result_area");if(d==null||d==void 0)return null;d=b("DOMQuery").scry(d,"._401d");for(var e=0;e<d.length;e++){var f=d[e];f=f.getAttribute("data-gt");if(f!==null||f!==void 0){f=JSON.parse(JSON.parse(f).xt.substring(3));if(f.item_type=="result"&&f.id!==""&&f.id!==null){if(f.unit_id==a)return c;c++}}}return null},logImpression:function(a){a.event="impression",this.maybeLogVisiblityEvent(a)}};e.exports=a}),null);
__d("XGamesNavigationSliderAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/navigationslider/",{id:{type:"String",required:!0},referral_objects:{type:"StringVector",defaultValue:[]},num_items_per_page:{type:"Int",required:!0},num_rows:{type:"Int",defaultValue:1},width:{type:"Int",required:!0},height:{type:"Int",required:!0},days_since:{type:"Int"},row_type:{type:"Enum",enumType:1},upsell_type:{type:"Enum",enumType:1}})}),null);
__d("CanvasNavigationSlider",["AsyncRequest","DataStore","Event","XGamesNavigationSliderAsyncController"],(function(a,b,c,d,e,f){__p&&__p();var g="GamesNavigationSlider";a=function(){"use strict";__p&&__p();a.init=function(b,c){return new a(b,c)};function a(a,c){__p&&__p();var d=this;this.$1=c.autoscroll;this.$2=a;this.$3=c.referral_objects;this.$4=a.getNode().id;this.$5=c.height;this.$6=c.width;this.$7=c.days_since;this.$8=c.num_items_per_page;this.$9=c.num_rows;this.$10=!1;this.$11=c.row_type;this.$12=c.upsell_type;b("DataStore").set(g,this.$4,this);(a.getIndex()>0||this.$1)&&this.$13();var e=b("Event").listen(a.getNextArrow(),"click",function(){e.remove(),d.$13()}.bind(this))}var c=a.prototype;c.$13=function(){if(this.$10)return;this.$10=!0;var a=b("XGamesNavigationSliderAsyncController").getURIBuilder().setString("id",this.$4).setInt("num_items_per_page",this.$8).setInt("num_rows",this.$9).setInt("width",this.$6).setInt("height",this.$5);this.$11&&(a=a.setEnum("row_type",this.$11));this.$12&&(a=a.setEnum("upsell_type",this.$12));this.$7&&(a=a.setInt("days_since",this.$7));new(b("AsyncRequest"))(a.getURI()).setData({referral_objects:this.$3}).send()};c.$14=function(a){var b=this;a.forEach(function(a){b.$2.push(a)})};a.update=function(a,c){a=b("DataStore").get(g,a);a.$14(c)};return a}();e.exports=a}),null);
__d("XGamesReplaceableXOutAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/xout/replace/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},extra_data:{type:"String"},query_type:{type:"String"},query_params:{type:"String"},excluded_app_ids:{type:"StringVector",defaultValue:[]},attributes:{type:"String"}})}),null);
__d("GamesReplaceableXOutHelper",["invariant","Parent","XGamesReplaceableXOutAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();var h="data-games-xout-container",i=0,j={},k={};function l(a){a=b("Parent").byAttribute(a,h);if(a){var c=parseInt(a.getAttribute(h),10);c===0&&(i+=1,c=i.toString(),a.setAttribute(h,c));return c}}function m(a){a=l(a);a||g(0,4728);return a}function n(a){a=j[m(a)];return a?Object.keys(a):[]}function a(a,b){return o(a,[b])}function o(a,b){a=l(a);if(a){a=j[a]=j[a]||{};for(var c=0;c<b.length;c+=1)a[b[c]]=!0}}function c(a){a=m(a);a&&(delete j[a],delete k[a])}function d(a,c){return b("XGamesReplaceableXOutAsyncController").getURIBuilder().setInt("app_id",c.appID).setString("extra_data",c.extraData).setString("attributes",c.attributes).setString("query_type",a.getAttribute("data-games-xout-query-type")).setString("query_params",a.getAttribute("data-games-xout-query-params")).setString("unit_type",c.unitType).setInt("fbs",a.getAttribute("data-games-xout-fbs")).setStringVector("excluded_app_ids",n(a)).getURI()}function f(a,b){a=l(a);if(!a)return;a=k[a]=k[a]||[];a.length===0&&b();a.push(b)}function p(a){a=m(a);a=k[a];a&&(a.shift(),a.length>0&&a[0]())}a={getBoundAppIDs:n,registerAppID:a,registerAppIDs:o,deleteContainer:c,queueRequest:f,processQueuedRequests:p,createURI:d};e.exports=a}),null);
__d("GamesReplaceableXOutListener",["csx","cx","AsyncRequest","CSS","DOM","Event","GamesReplaceableXOutHelper","Parent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={};function j(a,c,d){d=d.payload;if(!d)return;b("GamesReplaceableXOutHelper").registerAppID(a,d.app_id);b("GamesReplaceableXOutHelper").processQueuedRequests(c);i[d.app_id]=d.item_data;b("DOM").replace(c,d.el)}function k(a){return b("Event").listen(a,"click",function(c){c=c.target;if(!b("CSS").matchesSelector(c,"._1m6e"))return;var d=b("Parent").bySelector(c,"._2b2u"),e=c.getAttribute("data-appid"),f=i[e];b("CSS").addClass(d,"_4ksu");b("GamesReplaceableXOutHelper").queueRequest(d,function(){new(b("AsyncRequest"))(b("GamesReplaceableXOutHelper").createURI(a,f)).setHandler(function(b){return j(a,d,b)}).setMethod("POST").send(),delete i[e]})})}a={registerContainerItems:function(a,c,d){b("GamesReplaceableXOutHelper").registerAppIDs(a,c),d.forEach(function(c){var d=c.appID;i[d]=c;b("GamesReplaceableXOutHelper").registerAppID(a,d)}),k(a,c)}};e.exports=a}),null);
__d("Dialog",["fbt","Animation","Arbiter","AsyncRequest","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","Vector","bind","createArrayFromMixed","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield"],(function $module_Dialog(global,require,requireDynamic,requireLazy,module,exports,fbt){__p&&__p();var _supportsPositionFixed2=function _supportsPositionFixed(){__p&&__p();var body=document.body;if(!body)return!1;var test=document.createElement("div"),control=document.createElement("div");body.insertBefore(test,body.firstChild);body.insertBefore(control,body.firstChild);test.style.position="fixed";test.style.top="20px";var result=test.offsetTop!==control.offsetTop;body.removeChild(test);body.removeChild(control);_supportsPositionFixed2=require("emptyFunction").thatReturns(result);return result},Dialog=function(){"use strict";__p&&__p();function Dialog(model){this._show_loading=!0,this._auto_focus=!0,this._submit_on_enter=!1,this._fade_enabled=!0,this._onload_handlers=[],this._top=125,this._uniqueID="dialog_"+Dialog._globalCount++,this._content=null,this._obj=null,this._popup=null,this._overlay=null,this._causal_elem=null,this._previous_focus=null,this._buttons=[],this._buildDialog(),model&&this._setFromModel(model),Dialog._init()}var _proto=Dialog.prototype;_proto.show=function show(){this._showing=!0;this._async_request?this._show_loading&&this.showLoading():this._update();return this};_proto.showLoading=function showLoading(){this._loading=!0;require("CSS").addClass(this._frame,"dialog_loading_shown");this._renderDialog();return this};_proto.hide=function hide(){if(!this._showing&&!this._loading)return this;this._showing=!1;this._autohide_timeout&&(clearTimeout(this._autohide_timeout),this._autohide_timeout=null);this._fade_enabled&&Dialog._stack.length<=1?this._fadeOut():this._hide();return this};_proto.cancel=function cancel(){(!this._cancelHandler||this._cancelHandler()!==!1)&&this.hide()};_proto.getRoot=function getRoot(){return this._obj};_proto.getBody=function getBody(){return require("DOM").scry(this._obj,"div.dialog_body")[0]};_proto.getButtonElement=function getButtonElement(button){typeof button==="string"&&(button=Dialog._findButton(this._buttons,button));if(!button||!button.name)return null;var inputs=require("DOM").scry(this._popup,"input"),name_filter=function name_filter(elem){return elem.name==button.name};return inputs.filter(name_filter)[0]||null};_proto.getContentNode=function getContentNode(){return require("DOM").find(this._content,"div.dialog_content")};_proto.getFormData=function getFormData(){return require("Form").serialize(this.getContentNode())};_proto.setAllowCrossPageTransition=function setAllowCrossPageTransition(allow){this._cross_transition=allow;return this};_proto.setAllowCrossQuicklingNavigation=function setAllowCrossQuicklingNavigation(allow){this._cross_quickling=allow;return this};_proto.setShowing=function setShowing(){this.show();return this};_proto.setHiding=function setHiding(){this.hide();return this};_proto.setTitle=function setTitle(title){var node=this._nodes.title,inner_node=this._nodes.title_inner,content_node=this._nodes.content;require("DOM").setContent(inner_node,this._format(title||"",!0));require("CSS").conditionShow(node,!!title);require("CSS").conditionClass(content_node,"dialog_content_titleless",!title);return this};_proto.setInvertTitleColor=function setInvertTitleColor(invert){invert?this._nodes.title.className="dialog_title_inverted":this._nodes.title.className="dialog_title";return this};_proto.setBody=function setBody(body){require("DOM").setContent(this._nodes.body,this._format(body));return this};_proto.setExtraData=function setExtraData(data){this._extra_data=data;return this};_proto.setReturnData=function setReturnData(data){this._return_data=data;return this};_proto.setShowLoading=function setShowLoading(show){this._show_loading=show;return this};_proto.setFullBleed=function setFullBleed(is_full_bleed){this._full_bleed=is_full_bleed;this._updateWidth();require("CSS").conditionClass(this._obj,"full_bleed",is_full_bleed);return this};_proto.setCausalElement=function setCausalElement(elem){this._causal_elem=elem;return this};_proto.setUserData=function setUserData(data){this._user_data=data;return this};_proto.getUserData=function getUserData(){return this._user_data};_proto.setAutohide=function setAutohide(autohide){autohide?this._showing?this._autohide_timeout=setTimeout(require("shield")(this.hide,this),autohide):this._autohide=autohide:(this._autohide=null,this._autohide_timeout&&(clearTimeout(this._autohide_timeout),this._autohide_timeout=null));return this};_proto.setSummary=function setSummary(summary){var node=this._nodes.summary;require("DOM").setContent(node,this._format(summary||""));require("CSS").conditionShow(node,!!summary);return this};_proto.setButtons=function setButtons(b){__p&&__p();var buttons,button;!Array.isArray(b)?buttons=Array.from(arguments):buttons=b;for(var i=0;i<buttons.length;++i){var currButton=buttons[i];typeof currButton==="string"&&(button=Dialog._findButton(Dialog._STANDARD_BUTTONS,currButton),buttons[i]=button)}this._buttons=buttons;var button_content=[];if(buttons&&buttons.length>0)for(var ii=0;ii<buttons.length;ii++){button=buttons[ii];if(!button)continue;var button_input=require("DOM").create("input",{type:"button",name:button.name||"",value:button.label}),button_node=require("DOM").create("label",{className:"uiButton uiButtonLarge uiButtonConfirm"},button_input);button.className&&(button.className.split(/\s+/).forEach(function(e){require("CSS").addClass(button_node,e)}),require("CSS").hasClass(button_node,"inputaux")&&(require("CSS").removeClass(button_node,"inputaux"),require("CSS").removeClass(button_node,"uiButtonConfirm")),require("CSS").hasClass(button_node,"uiButtonSpecial")&&require("CSS").removeClass(button_node,"uiButtonConfirm"));button.icon&&require("DOM").prependContent(button_node,require("DOM").create("img",{src:button.icon,className:"img mrs"}));button.disabled&&require("Button").setEnabled(button_node,!1);require("Event").listen(button_input,"click",this._handleButton.bind(this,button.name));for(var attr in button)attr.indexOf("data-")===0&&attr.length>5&&button_input.setAttribute(attr,button[attr]);button_content.push(button_node)}require("DOM").setContent(this._nodes.buttons,button_content);this._updateButtonVisibility();return this};_proto.setButtonsMessage=function setButtonsMessage(message){require("DOM").setContent(this._nodes.button_message,this._format(message||""));this._has_button_message=!!message;this._updateButtonVisibility();return this};_proto._updateButtonVisibility=function _updateButtonVisibility(){var show=this._buttons.length>0||this._has_button_message;require("CSS").conditionShow(this._nodes.button_wrapper,show);require("CSS").conditionClass(this._obj,"omitDialogFooter",!show)};_proto.setClickButtonOnEnter=function setClickButtonOnEnter(input_id,button){this._clickOnEnterTarget=input_id;this._clickOnEnterListener||(this._clickOnEnterListener=require("Event").listen(this._nodes.body,"keypress",function(event){var target=event.getTarget();target&&target.id===this._clickOnEnterTarget&&(require("Event").getKeyCode(event)==require("Keys").RETURN&&(this._handleButton(button),event.kill()));return!0}.bind(this)));return this};_proto.setStackable=function setStackable(stackable,shown){this._is_stackable=stackable;this._shown_while_stacked=stackable&&shown;return this};_proto.setHandler=function setHandler(handler){this._handler=handler;return this};_proto.setCancelHandler=function setCancelHandler(cancelHandler){this._cancelHandler=Dialog.call_or_eval.bind(null,this,cancelHandler);return this};_proto.setCloseHandler=function setCloseHandler(close_handler){this._close_handler=Dialog.call_or_eval.bind(null,this,close_handler);return this};_proto.clearHandler=function clearHandler(){return this.setHandler(null)};_proto.setPostURI=function setPostURI(post_uri,asynchronous){asynchronous===void 0&&(asynchronous=!0);asynchronous?this.setHandler(this._submitForm.bind(this,"POST",post_uri)):this.setHandler(function(){require("Form").post(post_uri,this.getFormData()),this.hide()}.bind(this));return this};_proto.setGetURI=function setGetURI(get_uri){this.setHandler(this._submitForm.bind(this,"GET",get_uri));return this};_proto.setModal=function setModal(modal){this._modal=modal;require("CSS").conditionClass(this._obj,"generic_dialog_modal",modal);return this};_proto.setSemiModal=function setSemiModal(clickout){clickout?(this.setModal(!0),this._semiModalListener=require("Event").listen(this._obj,"click",function(e){require("DOM").contains(this._popup,e.getTarget())||this.hide()}.bind(this))):this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=clickout;return this};_proto.setWideDialog=function setWideDialog(is_wide){this._wide_dialog=is_wide;this._updateWidth();return this};_proto.setContentWidth=function setContentWidth(width){this._content_width=width;this._updateWidth();return this};_proto.setTitleLoading=function setTitleLoading(loading){loading===void 0&&(loading=!0);var header=require("DOM").find(this._popup,"h2.dialog_title");header&&require("CSS").conditionClass(header,"loading",loading);return this};_proto.setSecure=function setSecure(is_secure){require("CSS").conditionClass(this._nodes.title,"secure",is_secure);return this};_proto.setClassName=function setClassName(class_name){class_name.split(/\s+/).forEach(require("CSS").addClass.bind(require("CSS"),this._obj));return this};_proto.setFadeEnabled=function setFadeEnabled(enabled){this._fade_enabled=enabled;return this};_proto.setFooter=function setFooter(footer){var node=this._nodes.footer;require("DOM").setContent(node,this._format(footer||""));require("CSS").conditionShow(node,!!footer);return this};_proto.setAutoFocus=function setAutoFocus(focus){this._auto_focus=focus;return this};_proto.setTop=function setTop(top){this._top=top;this._resetDialogObj();return this};_proto.onloadRegister=function onloadRegister(handler){var _this=this;require("createArrayFromMixed")(handler).forEach(function(i){typeof i==="string"&&(i=new Function(i)),_this._onload_handlers.push(i.bind(_this))});return this};_proto.setAsyncURL=function setAsyncURL(url){return this.setAsync(new(require("AsyncRequest"))(url))};_proto.setAsync=function setAsync(async_request){__p&&__p();var handler=function(response){if(this._async_request!=async_request)return;this._async_request=null;var payload=response.getPayload(),dialog=payload;this._loading&&(this._showing=!0);typeof dialog==="string"?this.setBody(dialog):this._setFromModel(dialog);this._update()}.bind(this),data=async_request.getData();data.__d=1;async_request.setData(data);var orig_handler=async_request.getHandler()||require("emptyFunction");async_request.setHandler(function(response){orig_handler(response),handler(response)});var request=async_request,orig_error_handler=request.getErrorHandler()||require("emptyFunction"),orig_trans_error_handler=request.getTransportErrorHandler()||require("emptyFunction"),handle_error=function(){this._async_request=null,this._loading=!1,this._showing&&this._shown_while_stacked?this._update():this._hide(this._is_stackable)}.bind(this),server_cancel_handler=request.getServerDialogCancelHandler()||handle_error;request.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(response){handle_error(),orig_error_handler(response)}).setTransportErrorHandler(function(response){handle_error(),orig_trans_error_handler(response)}).setServerDialogCancelHandler(server_cancel_handler);async_request.send();this._async_request=async_request;this._showing&&this.show();return this};_proto._format=function _format(content,sane){sane===void 0&&(sane=!1);typeof content==="string"?sane||(content=require("HTML")(content)):content=require("HTML").replaceJSONWrapper(content);content instanceof require("HTML")&&content.setDeferred(!0);return content};_proto._update=function _update(){if(!this._showing)return;this._autohide&&!this._async_request&&!this._autohide_timeout&&(this._autohide_timeout=setTimeout(require("bind")(this,"hide"),this._autohide));require("CSS").removeClass(this._frame,"dialog_loading_shown");this._loading=!1;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;require("Focus").set(this._frame)};_proto._runOnloads=function _runOnloads(){for(var i=0;i<this._onload_handlers.length;++i)try{this._onload_handlers[i]()}catch(_unused){}this._onload_handlers=[]};_proto._updateWidth=function _updateWidth(){var dialog_width=2*(Dialog._BORDER_WIDTH+Dialog._HALO_WIDTH);this._content_width?(dialog_width+=this._content_width,this._full_bleed||(dialog_width+=2*Dialog._PADDING_WIDTH)):this._wide_dialog?dialog_width+=Dialog.SIZE.WIDE:dialog_width+=Dialog.SIZE.STANDARD;this._popup.style.width=dialog_width+"px"};_proto._updateZIndex=function _updateZIndex(){if(!this._hasSetZIndex&&this._causal_elem){var z_index=require("getOverlayZIndex")(this._causal_elem),node=this._causal_elem;while(!z_index&&(node=require("ContextualThing").getContext(node)))z_index=require("getOverlayZIndex")(node);this._hasSetZIndex=z_index>(this._modal?400:200);require("Style").set(this._obj,"z-index",this._hasSetZIndex?z_index:"")}};_proto._renderDialog=function _renderDialog(){__p&&__p();this._updateZIndex();this._pushOntoStack();this._obj.style.height=null;this._obj&&this._obj.style.display?(this._obj.style.visibility="hidden",this._obj.style.display="",this.resetDialogPosition(),this._obj.style.visibility="",this._obj.dialog=this):this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=!1;if(this._auto_focus){var input=require("Form").getFirstElement(this._content,['input[type="text"]',"textarea",'input[type="password"]']);input?setTimeout(require("Form").focusFirst.bind(this,this._content),0):this._submit_on_enter=!0}var bottom=require("Vector").getElementDimensions(this._content).y+require("Vector").getElementPosition(this._content).y;Dialog._bottoms.push(bottom);this._bottom=bottom;Dialog._updateMaxBottom();return this};_proto._buildDialog=function _buildDialog(){__p&&__p();this._obj=require("DOM").create("div",{className:"generic_dialog",id:this._uniqueID});this._obj.style.display="none";require("DOM").appendContent(document.body,this._obj);this._popup||(this._popup=require("DOM").create("div",{className:"generic_dialog_popup"}));this._obj.appendChild(this._popup);require("CSS").addClass(this._obj,"pop_dialog");require("Locale").isRTL()&&require("CSS").addClass(this._obj,"pop_dialog_rtl");require("DOM").setContent(this._popup,require("DOM").create("div",{className:"pop_container_advanced"},require("DOM").create("div",{className:"pop_content",id:"pop_content"})));var frame=require("DOM").find(this._popup,"div.pop_content");frame.setAttribute("tabIndex","0");frame.setAttribute("role","alertdialog");this._frame=this._content=frame;var loading=require("DOM").create("div",{className:"dialog_loading"},fbt._("Loading...")),title_inner=require("DOM").create("span"),title=require("DOM").create("h2",{className:"dialog_title hidden_elem",id:"title_"+this._uniqueID},title_inner),summary=require("DOM").create("div",{className:"dialog_summary hidden_elem"}),body=require("DOM").create("div",{className:"dialog_body"}),buttons=require("DOM").create("div",{className:"rfloat mlm"}),button_message=require("DOM").create("div",{className:"dialog_buttons_msg"}),button_wrapper=require("DOM").create("div",{className:"dialog_buttons clearfix hidden_elem"},[buttons,button_message]),footer=require("DOM").create("div",{className:"dialog_footer hidden_elem"}),content=require("DOM").create("div",{className:"dialog_content"},[summary,body,button_wrapper,footer]);this._nodes={summary:summary,body:body,buttons:buttons,button_message:button_message,button_wrapper:button_wrapper,footer:footer,content:content,title:title,title_inner:title_inner};require("DOM").setContent(this._frame,[title,content,loading])};_proto._activeResize=function _activeResize(){this.last_offset_height!=this._content.offsetHeight&&(this.last_offset_height=this._content.offsetHeight,this.resetDialogPosition())};_proto.resetDialogPosition=function resetDialogPosition(){if(!this._popup)return;this._resetDialogObj()};_proto._resetDialogObj=function _resetDialogObj(){var total_margin=2*Dialog._PAGE_MARGIN,viewport_dimensions=require("Vector").getViewportDimensions(),viewport_width=viewport_dimensions.x-total_margin,viewport_height=viewport_dimensions.y-total_margin,total_halo_width=2*Dialog._HALO_WIDTH,content_dimensions=require("Vector").getElementDimensions(this._content),content_width=content_dimensions.x+total_halo_width,content_height=content_dimensions.y+total_halo_width,top=this._top,empty_horiz_space=viewport_width-content_width,empty_vertical_space=viewport_height-content_height;empty_vertical_space<0?top=Dialog._PAGE_MARGIN:top>empty_vertical_space&&(top=Dialog._PAGE_MARGIN+Math.max(empty_vertical_space,0)/2);var is_fixed=_supportsPositionFixed2();is_fixed||(top+=require("Vector").getScrollPosition().y);require("Style").set(this._popup,"marginTop",top+"px");var scroll=is_fixed&&(empty_horiz_space<0||empty_vertical_space<0);require("CSS").conditionClass(this._obj,"generic_dialog_fixed_overflow",scroll);var documentEl=document.documentElement;documentEl&&require("CSS").conditionClass(documentEl,"generic_dialog_overflow_mode",scroll)};_proto._fadeOut=function _fadeOut(temporary){if(!this._popup)return;try{new(require("Animation"))(this._obj).duration(0).checkpoint().to("opacity",0).hide().duration(250).ondone(this._hide.bind(this,temporary)).go()}catch(_unused2){this._hide(temporary)}};_proto._hide=function _hide(temporary){__p&&__p();this._obj&&(this._obj.style.display="none");var documentEl=document.documentElement;documentEl&&require("CSS").removeClass(documentEl,"generic_dialog_overflow_mode");clearInterval(this.active_hiding);if(this._bottom){var bs=Dialog._bottoms;bs.splice(bs.indexOf(this._bottom),1);Dialog._updateMaxBottom()}this._previous_focus&&document.activeElement&&require("DOM").contains(this._obj,document.activeElement)&&require("Focus").set(this._previous_focus);if(temporary)return;this.destroy()};_proto.destroy=function destroy(){this._popFromStack(),clearInterval(this.active_hiding),this._obj&&(require("DOM").remove(this._obj),this._obj=null),this._clickOnEnterListener&&this._clickOnEnterListener.remove(),this._close_handler&&this._close_handler({return_data:this._return_data})};_proto._handleButton=function _handleButton(button){typeof button==="string"&&(button=Dialog._findButton(this._buttons,button));if(!button)return;var value=Dialog.call_or_eval(button,button.handler);if(value===!1)return;button.name=="cancel"?this.cancel():Dialog.call_or_eval(this,this._handler,{button:button})!==!1&&this.hide()};_proto._submitForm=function _submitForm(method,uri,button){var data=this.getFormData();button&&(data[button.name]=button.name);this._extra_data&&Object.assign(data,this._extra_data);var async_request=new(require("AsyncRequest"))().setURI(uri).setData(data).setMethod(method).setNectarModuleDataSafe(this._causal_elem).setReadOnly(method=="GET");this.setAsync(async_request);return!1};_proto._setFromModel=function _setFromModel(original_model){__p&&__p();var model={};Object.assign(model,original_model);for(var propertyName in model){if(propertyName=="onloadRegister"){this.onloadRegister(model[propertyName]);continue}var mutator=this["set"+propertyName.substr(0,1).toUpperCase()+propertyName.substr(1)];mutator.apply(this,require("createArrayFromMixed")(model[propertyName]))}};_proto._updateBottom=function _updateBottom(){var bottom=require("Vector").getElementDimensions(this._content).y+require("Vector").getElementPosition(this._content).y;Dialog._bottoms[Dialog._bottoms.length-1]=bottom;Dialog._updateMaxBottom()};_proto._pushOntoStack=function _pushOntoStack(){var stack=Dialog._stack;stack.length||require("Arbiter").inform("layer_shown",{type:"Dialog"});require("removeFromArray")(stack,this);stack.push(this);for(var i=stack.length-2;i>=0;i--){var prev_dialog=stack[i];!prev_dialog._is_stackable&&!prev_dialog._async_request?prev_dialog._hide():prev_dialog._shown_while_stacked||prev_dialog._hide(!0)}};_proto._popFromStack=function _popFromStack(){var stack=Dialog._stack,was_top=stack[stack.length-1]===this;require("removeFromArray")(stack,this);stack.length?was_top&&stack[stack.length-1].show():require("Arbiter").inform("layer_hidden",{type:"Dialog"})};Dialog._updateMaxBottom=function _updateMaxBottom(){Dialog.max_bottom=Math.max.apply(Math,Dialog._bottoms)};Dialog.newButton=function newButton(name,label,className,handler){var button={name:name,label:label,className:void 0,handler:void 0};className&&(button.className=className);handler&&(button.handler=handler);return button};Dialog.getCurrent=function getCurrent(){var stack=Dialog._stack;return stack.length?stack[stack.length-1]:null};Dialog.hideCurrent=function hideCurrent(){var dialog=Dialog.getCurrent();dialog&&dialog.hide()};Dialog.bootstrap=function bootstrap(uri,data,read_only,method,model,elem){__p&&__p();data=data||{};Object.assign(data,new(require("URI"))(uri).getQueryData());method=method||(read_only?"GET":"POST");var status_elem=require("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&require("CSS").hasClass(status_elem,"async_saving"))return!1;if(!(status_elem instanceof HTMLElement))return!1;var request=new(require("AsyncRequest"))().setReadOnly(!!read_only).setMethod(method).setRelativeTo(elem).setStatusElement(status_elem).setURI(uri).setNectarModuleDataSafe(elem).setData(data),dialog=new Dialog(model).setCausalElement(elem).setAsync(request);dialog.show();return!1};Dialog.showFromModel=function showFromModel(model,causal_element){var dialog=new Dialog(model).setCausalElement(causal_element).show();model.hiding&&dialog.hide()};Dialog._init=function _init(){this._init=require("emptyFunction"),require("Run").onLeave(require("shield")(Dialog._tearDown,null,!1)),require("Arbiter").subscribe("page_transition",require("shield")(Dialog._tearDown,null,!0)),require("Event").listen(document.documentElement,"keydown",function(event){require("Event").getKeyCode(event)==require("Keys").ESC&&!event.getModifiers().any?Dialog._escape()&&event.kill():require("Event").getKeyCode(event)==require("Keys").RETURN&&!event.getModifiers().any&&(Dialog._enter()&&event.kill())}),require("Event").listen(window,"resize",function(event){var dialog=Dialog.getCurrent();dialog&&dialog._resetDialogObj()})};Dialog._findButton=function _findButton(buttons,name){if(buttons)for(var i=0;i<buttons.length;++i)if(buttons[i].name==name)return buttons[i];return null};Dialog._tearDown=function _tearDown(is_page_transition){var stack=Dialog._stack.slice();for(var ii=stack.length-1;ii>=0;ii--)(is_page_transition&&!stack[ii]._cross_transition||!is_page_transition&&!stack[ii]._cross_quickling)&&stack[ii].hide()};Dialog._escape=function _escape(){__p&&__p();var dialog=Dialog.getCurrent();if(!dialog)return!1;var semi_modal=dialog._semi_modal,buttons=dialog._buttons;if(!buttons.length&&!semi_modal)return!1;if(semi_modal&&!buttons.length){dialog.hide();return!0}var button_to_simulate,cancel_button=Dialog._findButton(buttons,"cancel");if(dialog._cancelHandler){dialog.cancel();return!0}else if(cancel_button)button_to_simulate=cancel_button;else if(buttons.length==1)button_to_simulate=buttons[0];else return!1;dialog._handleButton(button_to_simulate);return!0};Dialog._enter=function _enter(){__p&&__p();var dialog=Dialog.getCurrent();if(!dialog||!dialog._submit_on_enter)return!1;if(document.activeElement!=dialog._frame)return!1;var buttons=dialog._buttons;if(!buttons)return!1;dialog._handleButton(buttons[0]);return!0};Dialog.call_or_eval=function call_or_eval(obj,func,args){if(!func)return void 0;args=args||{};if(typeof func==="string"){var params=Object.keys(args).join(", ");func=eval("({f: function("+params+") { "+func+"}})").f}return func.apply(obj,require("getObjectValues")(args))};return Dialog}();Dialog.OK={name:"ok",label:fbt._("OK")};Dialog.CANCEL={name:"cancel",label:fbt._("Cancel"),className:"inputaux"};Dialog.CLOSE={name:"close",label:fbt._("Close")};Dialog.NEXT={name:"next",label:fbt._("Next")};Dialog.SAVE={name:"save",label:fbt._("Save")};Dialog.SUBMIT={name:"submit",label:fbt._("Submit")};Dialog.CONFIRM={name:"confirm",label:fbt._("Confirm")};Dialog.DELETE={name:"delete",label:fbt._("Delete")};Dialog._bottoms=[0];Dialog.max_bottom=0;Dialog._globalCount=0;Dialog.OK_AND_CANCEL=[Dialog.OK,Dialog.CANCEL];Dialog._STANDARD_BUTTONS=[Dialog.OK,Dialog.CANCEL,Dialog.CLOSE,Dialog.SAVE,Dialog.SUBMIT,Dialog.CONFIRM,Dialog.DELETE];Dialog.SIZE={WIDE:555,STANDARD:445};Dialog._HALO_WIDTH=10;Dialog._BORDER_WIDTH=1;Dialog._PADDING_WIDTH=10;Dialog._PAGE_MARGIN=40;Dialog._stack=[];module.exports=Dialog;global.Dialog=Dialog}),null);
__d("GamesXOut.react",["cx","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_2b2u",this.props.className)},this.props.children,b("React").createElement(b("ShimButton.react"),{className:"_1m6e",onClick:this.props.onClick}))};return c}(b("React").Component);c.propTypes={onClick:a.func.isRequired};e.exports=c}),null);
__d("XGamesHideableXOutAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/xout/hide/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},extra_data:{type:"String"}})}),null);
__d("GamesUninstallXOut.react",["cx","AsyncRequest","CSS","Dialog","DOMContainer.react","GamesXOut.react","React","ReactDOM","URI","XGamesHideableXOutAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={pending:!1},d.$1=function(){var a=b("XGamesHideableXOutAsyncController").getURIBuilder().setInt("app_id",d.props.appID).setString("extra_data",d.props.extraData).setString("unit_type",d.props.unitType).setInt("fbs",d.props.fbs).getURI();d.$2=new(b("AsyncRequest"))(a).setMethod("POST");d.$2.send()},d.$3=function(){var a=new(b("URI"))("/ajax/settings/apps/delete_app.php").setQueryData({app_id:d.props.appID,legacy:!1,dialog:!0,xout:!0});new(b("Dialog"))().setAsync(new(b("AsyncRequest"))(a).setRelativeTo(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)))).setCausalElement(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))).show()},c)||babelHelpers.assertThisInitialized(d)}c.appUninstalled=function(a){b("CSS").addClass(a,"_4ksu")};var d=c.prototype;d.render=function(){return b("React").createElement(b("GamesXOut.react"),{onClick:this.$3},b("React").createElement(b("DOMContainer.react"),null,this.props.domChild))};return c}(b("React").Component);c.propTypes={unitType:a.string.isRequired,appID:a.string.isRequired,domChild:a.any.isRequired,extraData:a.string.isRequired,fbs:a.number.isRequired};e.exports=c}),null);
__d("GamesGogglesSwitch",[],(function(a,b,c,d,e,f){var g=!1;a={enable:function(){g=!0},isEnabled:function(){return g}};e.exports=a}),null);
__d("VisibilityTrackingHelper",["Arbiter","DesktopHscrollUnitEventConstants","Event","getViewportDimensions"],(function(a,b,c,d,e,f){a={getEventListeners:function(a){return[b("Event").listen(document,"DOMContentLoaded",a),b("Event").listen(window,"scroll",a),b("Event").listen(window,"resize",a),b("Arbiter").subscribe(b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,a)]},getViewportInfo:function(){return b("getViewportDimensions")()},isSnippetFlyoutVisible:function(){return!1}};e.exports=a}),null);
__d("VisibilityTracking",["Banzai","BrowseClientEventLogger","DataAttributeUtils","ErrorUtils","ScriptPath","SubscriptionsHandler","Visibility","VisibilityTrackingHelper","collectDataAttributes","getElementPosition","gkx","pageID","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g="visibility_tracking",h="[data-vistracking]",i=500,j=50,k=50,l=50,m=50,n=0;a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c=this;a=a||{};if(!a.bypass_banzai_check&&!b("Banzai").isEnabled(g))return;this.visibleElementInfo={};this.getDataFromConfig(a);b("Visibility").addListener(b("Visibility").VISIBLE,b("ErrorUtils").guard(function(){return c.fireEvent("browser")},"VisibilityTracking:visible",this));b("Visibility").addListener(b("Visibility").HIDDEN,b("ErrorUtils").guard(function(){return c.clearAllVisibleElements("browser")},"VisibilityTracking:hidden",this));b("ScriptPath").subscribe(b("ErrorUtils").guard(function(){return c.updateVisibleElements()},"VisibilityTracking:scriptPath",this));b("Banzai").subscribe(b("Banzai").SHUTDOWN,b("ErrorUtils").guard(function(){return c.onUnload()},"VisibilityTracking:banzaiShutdown",this));this.fireEventCallback=b("throttle").acrossTransitions(b("ErrorUtils").guard(function(a){return c.fireEvent(a)},"VisibilityTracking:fireEventCallback",this),this.timeout,this);this.listeners=new(b("SubscriptionsHandler"))();b("VisibilityTrackingHelper").getEventListeners(function(){return c.fireEventCallback()}).forEach(function(a){this.listeners.addSubscriptions(a)},this);this.extraInit&&b("ErrorUtils").applyWithGuard(this.extraInit.bind(this))}var c=a.prototype;c.getDataFromConfig=function(a){this.config=a,this.root=a.root||document.documentElement,this.selector=a.selector||h,this.visibleEventCallBack=a.visibleEventCallBack||function(){},this.timeout=a.timeout!==void 0?a.timeout:i,this.minOffsetVisibleFromBottom=a.minOffsetVisibleFromBottom!==void 0?a.minOffsetVisibleFromBottom:j,this.minOffsetVisibleFromTop=a.minOffsetVisibleFromTop!==void 0?a.minOffsetVisibleFromTop:k,this.minOffsetVisibleFromLeft=a.minOffsetVisibleFromLeft!==void 0?a.minOffsetVisibleFromLeft:l,this.minOffsetVisibleFromRight=a.minOffsetVisibleFromRight!==void 0?a.minOffsetVisibleFromRight:m,this.handleAllHiddenEvents=a.handleAllHiddenEvents!==void 0?a.handleAllHiddenEvents:!1,this.handleAllVisibleEvents=a.handleAllVisibleEvents!==void 0?a.handleAllVisibleEvents:!1,this.cacheTrackedElements=a.cacheTrackedElements!==void 0?a.cacheTrackedElements:!1};c.getAllTrackedElements=function(){__p&&__p();if(!this.allTrackedElements){this.allTrackedElements={};var a=[];this.config.is_xtrackable?a=b("DataAttributeUtils").getXTrackableElements():this.root&&this.root.querySelectorAll&&(a=this.root.querySelectorAll(this.selector));for(var c=0;c<a.length;c++){var d=this.getElementID(a[c]);this.allTrackedElements[d.toString()]=a[c]}}return this.allTrackedElements};c.refreshAllTrackedElements=function(){delete this.allTrackedElements;return this.getAllTrackedElements()};c.getDataToLog=function(a){a=Object.assign(b("collectDataAttributes")(a,["gt"]).gt,{client_time:Date.now()/1e3,time_spent_id:b("pageID"),script_path:b("ScriptPath").getScriptPath()});return a};c.getElementID=function(a){var b=a.$1;if(b)return b;a.$1=++n;return n};c.sendDataToLog=function(a){b("BrowseClientEventLogger").maybeLogVisiblityEvent(a),b("Banzai").post(g,a)};c.isInstreamAdStoryElement=function(a){return!1};c.fireEvent=function(a){a===void 0&&(a="default");var c=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var d in c){var e=c[d],f=b("VisibilityTrackingHelper").getViewportInfo();f=this.isVisible(e,f);!f&&(d in this.visibleElementInfo||this.handleAllHiddenEvents)?this.handleEvent(e,{name:"hidden",cause:a}):f&&(!(d in this.visibleElementInfo)||this.handleAllVisibleEvents)&&this.handleEvent(e,{name:"visible",cause:a})}this.clearUntrackedVisibleElements()};c.isVisible=function(a,c){if(a==null)return!1;if(b("gkx")("820050")&&b("VisibilityTrackingHelper").isSnippetFlyoutVisible())return!1;a=b("getElementPosition")(a);return!!(a.x||a.y||a.width||a.height)&&a.y+a.height>=this.minOffsetVisibleFromTop&&a.y<=c.height-this.minOffsetVisibleFromBottom&&a.x+a.width>=this.minOffsetVisibleFromLeft&&a.x<=c.width-this.minOffsetVisibleFromRight};c.handleEvent=function(a,c){__p&&__p();var d=this.getElementID(a).toString(),e=this.getDataToLog(a),f;if(c.name==="visible"){var g=Math.floor(Date.now()/1e3);f=b("pageID").concat(":",g.toString(),":",this.getElementID(a).toString());this.visibleElementInfo[d]={visibility_id:f,elem:a}}else if(c.name==="hidden"){d in this.visibleElementInfo&&(f=this.visibleElementInfo[d].visibility_id,delete this.visibleElementInfo[d]);if(c.cause==="browser")return}this.sendDataToLog(Object.assign(e,{event:c.name,visibility_id:f}))};c.clearUntrackedVisibleElements=function(){var a=this.getAllTrackedElements();for(var b in this.visibleElementInfo)if(!(b in a)){var c=this.visibleElementInfo[b];c.elem&&this.handleEvent(c.elem,{name:"hidden",cause:"removed"})}};c.clearAllVisibleElements=function(a){a===void 0&&(a="default");var b=this.getAllTrackedElements();for(var c in b)c in this.visibleElementInfo&&this.handleEvent(b[c],{name:"hidden",cause:a});this.clearUntrackedVisibleElements()};c.updateVisibleElements=function(){this.clearAllVisibleElements(),this.fireEvent()};c.refreshAndFireEvent=function(a){this.refreshAllTrackedElements(),this.fireEventCallback(a)};c.onUnload=function(){this.clearAllVisibleElements(),this.listeners&&(this.listeners.release(),this.listeners=null),this.extraCleanup&&b("ErrorUtils").applyWithGuard(this.extraCleanup.bind(this))};a.init=function(b){return new a(b)};return a}();e.exports=a}),null);
__d("GamesImpressionTracker",["cx","Arbiter","Banzai","Event","GamesGogglesSwitch","VisibilityTracking","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="data-gamesrankedimp";a=1e3;function i(a){b("GamesGogglesSwitch").isEnabled()&&(a.className=a.className+" _1z5y")}function j(a){return function(){a&&(a(),a=null)}}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.handleEvent=function(a,c){if(c.name==="visible"){var d=a.getAttribute(h);a.removeAttribute(h);d&&(i(a),d&&b("Banzai").post("games_ranked_imp",{data:d}));b("Event").listen(a,"mouseover",j(function(){b("Banzai").post("games_mouseover",{data:d}),b("Event").listen(a,"mouseout",j(function(){b("Banzai").post("games_mouseout",{data:d})}))}))}};return c}(b("VisibilityTracking"));var k=new c({selector:"[data-gamesrankedimp]",handleAllVisibleEvents:!0,cacheTrackedElements:!0});d=b("throttle").acrossTransitions(function(){return k.fireEventCallback()},a,null);k.listeners&&k.listeners.addSubscriptions(b("Event").listen(document,"mousemove",d),b("Event").listen(document,"click",d),b("Arbiter").subscribe("games_unit_loaded",function(){return k.refreshAllTrackedElements()}))}),null);
__d("Slideshow",["csx","cx","ArbiterMixin","CSS","DOM","Event","Parent","getActiveElement","mixin","shield"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e._setCurrent=function(a){__p&&__p();var c=e._items[e._currentIndex];c&&b("CSS").removeClass(c,"_2xn");b("CSS").addClass(e._items[a],"_2xn");b("CSS").removeClass(e._root,"_2xm");c=c&&b("DOM").scry(c,"a").some(function(a){return a==b("getActiveElement")()});if(c){c=b("DOM").scry(e._items[a],"a");c[0]&&c[0].focus()}e._currentIndex=a;e._animating=!1;e.inform("page_end",a)};e.informAndResetAutoPlay=function(){e.resetAutoplay(),e._config.autoplay&&e.inform("reset_autoplay")};e.informAndStopAutoplay=function(){e.stopAutoplay(),e.inform("stop_autoplay")};e._root=c;e._config=d;e._currentIndex=0;e._animating=!1;e._autoplayTimer=null;e._autoplayTimeout=d.autoplayTimeout;e._init();return e}var d=c.prototype;d.getNode=function(){return this._root};d.getIndex=function(){return this._currentIndex};d.getNumItems=function(){return this._items.length};d.getNextArrow=function(){return this._config.arrows?b("DOM").find(this._root,"a._2xw"):null};d.getPrevArrow=function(){return this._config.arrows?b("DOM").find(this._root,"a._2xx"):null};d.page=function(a){a||(a="next");if(a==="next")(this._config.wrap||this.getIndex()<this.getNumItems()-1)&&this._animateTo((this.getIndex()+1)%this.getNumItems(),this.getIndex());else if(a==="prev"){if(this._config.wrap||this.getIndex()>0){a=(this.getNumItems()+this.getIndex()-1)%this.getNumItems();this._animateTo(a,this.getIndex())}}};d.pageTo=function(a){this._animateTo(a,this.getIndex(),b("shield")(this._setCurrent,this,a))};d.insert=function(a,c){a>this._currentIndex?b("DOM").insertAfter(this._items[a-1],c):(b("DOM").insertBefore(this._items[a],c),this._currentIndex++),this._items.splice(a,0,c),this._updateArrowState(),this.inform("items_updated")};d.push=function(a){this.insert(this._items.length,a)};d.remove=function(a){__p&&__p();if(a<0||a>=this._items.length)return;b("DOM").remove(this._items[a]);this._items=b("DOM").scry(this._container,"li._2xr");if(a===this._currentIndex&&this._items.length){a=a%this._items.length;this._conditionFade(this._items[a],!0,null);this._setCurrent(a)}this.inform("items_updated")};d._init=function(){this._container=b("DOM").find(this._root,"ul._2xq"),this._items=b("DOM").scry(this._container,"li._2xr"),this._config.arrows&&(b("Event").listen(this._root,"click",this._clickListener.bind(this)),this._arrowNext=b("DOM").find(this._root,"a._2xw"),this._arrowPrev=b("DOM").find(this._root,"a._2xx")),this._config.autoplay&&(this._config.autoplaycontrol&&(b("Event").listen(this._root,"mouseenter",this.informAndStopAutoplay),b("Event").listen(this._root,"mouseleave",this.informAndResetAutoPlay)),this.resetAutoplay()),this.subscribe(["page_start","page_end"],function(a,c){b("CSS").conditionClass(this._root,"_2xm",a==="page_start")}.bind(this))};d._clickListener=function(a){var c=a.getTarget();c=b("Parent").byTag(c,"a");c&&!b("CSS").matchesSelector(c,"._2xo")&&(b("CSS").matchesSelector(c,"._2xw")?(this.page("next"),a.preventDefault()):b("CSS").matchesSelector(c,"._2xx")&&(this.page("prev"),a.preventDefault()))};d._updateArrowState=function(){if(!this._config.arrows)return;b("CSS").conditionClass(this._arrowNext,"_2xo",this._items.length===1);b("CSS").conditionClass(this._arrowPrev,"_2xo",this._items.length===1)};d._animateTo=function(a,b){b===void 0};d.startAutoplay=function(a){this._config.autoplay=!0,this._autoplayTimeout=a,this.resetAutoplay()};d.resetAutoplay=function(){this._config.autoplay&&(clearTimeout(this._autoplayTimer),this._autoplayTimer=setTimeout(this._autoplay.bind(this),this._autoplayTimeout))};d.stopAutoplay=function(){clearTimeout(this._autoplayTimer),this._autoplayTimer=null};d._autoplay=function(){this.resetAutoplay(),this._items.length>1&&this.page()};d.setAutoplayTimeout=function(a){this._autoplayTimeout=a};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("Carousel",["cx","Animation","CSS","Ease","Locale","Slideshow","Style","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("Locale").isRTL()?"right":"left",i=b("Ease").sineInOut;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.subscribe("items_updated",b._updateItemState.bind(babelHelpers.assertThisInitialized(b)));b._width=b._config.width;return b}var d=c.prototype;d._updateItemState=function(a,c){this._setContainerPos(a),b("Style").set(this._container,"width",this._items.length*this._config.width+this._config.widthunit)};d._updateArrowState=function(a){if(!this._config.arrows)return;var c=this._config.wrap,d=this._items.length;d=Math.floor(d/this._config.photosperframe);b("CSS").conditionClass(this._arrowNext,"_2xo",d===1||!c&&a===d-1);b("CSS").conditionClass(this._arrowPrev,"_2xo",d===1||!c&&a===0)};d._animate=function(a,c,d){c===void 0&&(c=null);var e=a===-1?this._items.length-1:a,f=0;f=this._calcOffset(a,this._config.width,this._config.peek,this._config.item_margin);this._animating=!0;this.inform("page_start",e);a=new(b("Animation"))(this._container).setUnit(this._config.widthunit).to(h,f).duration(this._config.animationDuration).ease(i).ondone(d);c!==null&&(e=this._calcOffset(c,this._config.width,this._config.peek,this._config.item_margin),a.from(h,e));a.go()};d._calcOffset=function(a,b,c,d){if(this._config.peek_with_offset){var e=-a*(b-c*2);a>0&&(e=e+c-a*(d/2));a===this._items.length-1&&(e+=c);return e}else return-a*b};d._setContainerPos=function(a){b("Style").set(this._container,h,-a*this._config.width+this._config.widthunit)};d._animateTo=function(a,c){__p&&__p();c===void 0&&(c=null);if(this._animating)return;var d=this._items.length;if(0<=a&&a<d||!this._config.wrap){var e=(a+d)%d;this._updateArrowState(e);return this._animate(e,c,b("shield")(this._setCurrent,this,e))}e=a%d;var f=e?d-1:0,g=this._items[d-1];b("Style").set(g,"position","absolute");b("Style").set(g,h,-this._config.width+this._config.widthunit);f===0&&this._setContainerPos(-1);this._animate(e,c,function(){b("Style").set(g,"position","static"),b("Style").set(g,h,"auto"),this._setContainerPos(f),this._setCurrent(f)}.bind(this))};return c}(b("Slideshow"));e.exports=a}),null);